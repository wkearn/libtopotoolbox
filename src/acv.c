#define TOPOTOOLBOX_BUILD

#include <math.h>
#include <stddef.h>
#include <stdint.h>

#include "topotoolbox.h"

/**

 */

TOPOTOOLBOX_API
void acv(float *output, float *padded_dem, ptrdiff_t dims[2]) {
    
  int k[5][5] = {{1, 0, 1, 0, 1},
                 {0, 0, 0, 0, 0},
                 {1, 0, 0, 0, -1},
                 {0, 0, 0, 0, 0},
                 {-1, 0, -1, 0, -1}};

  int filter[4][5][5] = {{// filter 0
                          {0, 0, 0, 0, 0},
                          {0, 0, 0, 0, 0},
                          {1, 0, 0, 0, -1},
                          {0, 0, 0, 0, 0},
                          {0, 0, 0, 0, 0}},
                         {// filter 1
                          {1, 0, 0, 0, 0},
                          {0, 0, 0, 0, 0},
                          {0, 0, 0, 0, 0},
                          {0, 0, 0, 0, 0},
                          {0, 0, 0, 0, -1}},
                         {// filter 2
                          {0, 0, -1, 0, 0},
                          {0, 0, 0, 0, 0},
                          {0, 0, 0, 0, 0},
                          {0, 0, 0, 0, 0},
                          {0, 0, -1, 0, 0}},
                         {// filter 3
                          {0, 0, 0, 0, -1},
                          {0, 0, 0, 0, 0},
                          {0, 0, 0, 0, 0},
                          {0, 0, 0, 0, 0},
                          {1, 0, 0, 0, 0}}};

  int filter[4][3][3] = {
    {// filter 0
     {0, 0, 0},
     {1, 0, -1},
     {0, 0, 0}},
    {// filter 1
     {1, 0, 0},
     {0, 0, 0},
     {0, 0, -1}},
    {// filter 2
     {0, 1, 0},
     {0, 0, 0},
     {0, -1, 0}},
    {// filter 3
     {0, 0, 1},
     {0, 0, 0},
     {-1, 0, 0}}
  }
}